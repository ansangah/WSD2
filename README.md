# 웹서비스설계 실습 2

## 프로젝트 개요
- Express 기반의 간단한 사용자 관리 API 서버입니다.
- 메모리 데이터베이스를 활용하여 POST/GET/PUT/DELETE 각각 2개의 엔드포인트(총 8개)를 제공합니다.
- 공통 로그/응답/에러 핸들러 미들웨어를 구현하여 요청 처리 과정을 표준화했습니다.

## 실행 방법
```bash
npm install
npm start
```

## 표준 응답 형식
- 성공: `{"status":"success","message":"...","data":{...}}`
- 실패: `{"status":"error","message":"...","data":null}`
- `DELETE /users/:id`는 HTTP 204 규약에 맞춰 바디 없이 응답합니다.

## 주요 미들웨어
1. **요청 로깅**: 모든 요청을 `ISO8601` 타임스탬프와 함께 콘솔로 출력합니다.
2. **응답 헬퍼**: `res.success`, `res.fail` 헬퍼를 통해 응답 형식을 통일합니다.
3. **404 처리**: 매칭되지 않는 경로에 대해 일관된 404 JSON을 반환합니다.
4. **에러 핸들러**: 예상치 못한 오류를 잡아 500 JSON 응답을 제공합니다.

## 엔드포인트 요약
| Method | Endpoint | 설명 | 정상 응답 코드 | 비정상 응답 코드 |
| --- | --- | --- | --- | --- |
| POST | `/users` | 새 사용자 생성 | 201 | 400 |
| POST | `/users/:id/deactivate` | 사용자 비활성화 | 200 | 404 |
| GET | `/users` | 전체 사용자 목록 | 200 | - |
| GET | `/users/:id` | 특정 사용자 조회 | 200 | 404 |
| PUT | `/users/:id` | 이름/이메일 수정 | 200 | 400, 404 |
| PUT | `/users/:id/password` | 비밀번호 변경 | 200 | 400, 404 |
| DELETE | `/users/:id` | 특정 사용자 삭제 | 204 | 404 |
| DELETE | `/users` | 모든 사용자 삭제 | 200 | - |
| GET | `/force-error` | 강제 서버 에러 | - | 500 |
| GET | `/maintenance` | 점검 모드 안내 | 503 | - |

## 테스트 시나리오
- `test.http` 파일에 REST Client(VS Code) 기준 15개의 요청 시나리오가 정리되어 있습니다.
- 정상 흐름, 필드 누락/잘못된 입력, 존재하지 않는 ID, 5xx 응답 등을 모두 포함합니다.

## 참고 사항
- 서버는 메모리 저장소를 사용하므로 재시작 시 데이터가 초기화됩니다.
- 과제 요구사항(HTTP 메소드별 2개, 미들웨어, 다양한 응답 코드, 표준 응답 형식)을 모두 충족하도록 설계했습니다.
